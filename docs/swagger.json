{
    "swagger": "2.0",
    "info": {
        "description": "网盘资源管理系统的公开API接口文档",
        "title": "网盘资源管理系统公开API",
        "termsOfService": "http://swagger.io/terms/",
        "contact": {
            "name": "API Support",
            "url": "http://www.swagger.io/support",
            "email": "support@swagger.io"
        },
        "license": {
            "name": "Apache 2.0",
            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"
        },
        "version": "1.0"
    },
    "host": "localhost:8080",
    "basePath": "/api/public",
    "paths": {
        "/api/public/hot-dramas": {
            "get": {
                "description": "获取热门剧列表，支持分页",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "PublicAPI"
                ],
                "summary": "获取热门剧列表",
                "parameters": [
                    {
                        "type": "string",
                        "description": "API访问令牌",
                        "name": "X-API-Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "maximum": 100,
                        "type": "integer",
                        "default": 20,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "获取成功",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "认证失败",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/public/resources/add": {
            "post": {
                "description": "通过公开API添加单个资源到待处理列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "PublicAPI"
                ],
                "summary": "单个添加资源",
                "parameters": [
                    {
                        "type": "string",
                        "description": "API访问令牌",
                        "name": "X-API-Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "资源信息",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.ReadyResourceRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "添加成功",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "认证失败",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/public/resources/batch-add": {
            "post": {
                "description": "通过公开API批量添加多个资源到待处理列表",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "PublicAPI"
                ],
                "summary": "批量添加资源",
                "parameters": [
                    {
                        "type": "string",
                        "description": "API访问令牌",
                        "name": "X-API-Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "description": "批量资源信息",
                        "name": "data",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/dto.BatchReadyResourceRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "批量添加成功",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "400": {
                        "description": "请求参数错误",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "认证失败",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        },
        "/api/public/resources/search": {
            "get": {
                "description": "搜索资源，支持关键词、标签、分类过滤",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "PublicAPI"
                ],
                "summary": "资源搜索",
                "parameters": [
                    {
                        "type": "string",
                        "description": "API访问令牌",
                        "name": "X-API-Token",
                        "in": "header",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "搜索关键词",
                        "name": "keyword",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "标签过滤",
                        "name": "tag",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "分类过滤",
                        "name": "category",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "页码",
                        "name": "page",
                        "in": "query"
                    },
                    {
                        "maximum": 100,
                        "type": "integer",
                        "default": 20,
                        "description": "每页数量",
                        "name": "page_size",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "搜索成功",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "401": {
                        "description": "认证失败",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    },
                    "500": {
                        "description": "服务器内部错误",
                        "schema": {
                            "type": "object",
                            "additionalProperties": true
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "dto.BatchReadyResourceRequest": {
            "type": "object",
            "required": [
                "resources"
            ],
            "properties": {
                "resources": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/dto.ReadyResourceRequest"
                    }
                }
            }
        },
        "dto.ReadyResourceRequest": {
            "type": "object",
            "required": [
                "title",
                "url"
            ],
            "properties": {
                "category": {
                    "type": "string",
                    "example": "示例分类"
                },
                "description": {
                    "type": "string",
                    "example": "这是一个示例资源描述"
                },
                "extra": {
                    "type": "string",
                    "example": "额外信息"
                },
                "img": {
                    "type": "string",
                    "example": "https://example.com/image.jpg"
                },
                "source": {
                    "type": "string",
                    "example": "数据来源"
                },
                "tags": {
                    "type": "string",
                    "example": "标签1,标签2"
                },
                "title": {
                    "type": "string",
                    "example": "示例资源标题"
                },
                "url": {
                    "type": "string",
                    "example": "https://example.com/resource"
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiTokenAuth": {
            "description": "API Token认证",
            "type": "apiKey",
            "name": "X-API-Token",
            "in": "header"
        }
    }
}